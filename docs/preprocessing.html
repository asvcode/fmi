---

title: pre_processing


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "nbs\03_preprocessing.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs\03_preprocessing.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="/fmi/images/graphic8.PNG" alt="preprocessing"></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Mask-&amp;-Save">Mask &amp; Save<a class="anchor-link" href="#Mask-&amp;-Save"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="mask_and_save" class="doc_header"><code>mask_and_save</code><a href="https://github.com/asvcode/fmi/tree/master/fmi/preprocessing.py#L11" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>mask_and_save</code>(<strong><code>df</code></strong>, <strong><code>source</code></strong>=<em><code>None</code></em>, <strong><code>show</code></strong>=<em><code>None</code></em>, <strong><code>window</code></strong>=<em><code>(1500, -600)</code></em>, <strong><code>sigma</code></strong>:<code>float</code>=<em><code>0.1</code></em>, <strong><code>thresh</code></strong>:<code>float</code>=<em><code>0.9</code></em>, <strong><code>save</code></strong>=<em><code>False</code></em>, <strong><code>save_path</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Dicom-metadata-dict">Dicom metadata dict<a class="anchor-link" href="#Dicom-metadata-dict"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Change to allow selection of dicom window width and level</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Dataset.updated_dict" class="doc_header"><code>Dataset.updated_dict</code><a href="https://github.com/asvcode/fmi/tree/master/fmi/preprocessing.py#L31" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Dataset.updated_dict</code>(<strong><code>windows</code></strong>=<em><code>[(1500, -600)]</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="dicom-convert-3channel">dicom convert 3channel<a class="anchor-link" href="#dicom-convert-3channel"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dicom_convert_3channel" class="doc_header"><code>dicom_convert_3channel</code><a href="https://github.com/asvcode/fmi/tree/master/fmi/preprocessing.py#L56" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dicom_convert_3channel</code>(<strong><code>fn</code></strong>:<code>Path'&gt;, &lt;class 'str'&gt;)</code>, <strong><code>save_dir</code></strong>:<code>str</code>, <strong><code>win1</code></strong>=<em><code>(1500, -600)</code></em>, <strong><code>win2</code></strong>=<em><code>(150, 30)</code></em>, <strong><code>win3</code></strong>=<em><code>(80, 40)</code></em>)</p>
</blockquote>
<p>Split a dicom image into 3 windows with each window per channel and saved as jpg</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Dicom-Splitter">Dicom Splitter<a class="anchor-link" href="#Dicom-Splitter"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://www.kaggle.com/avirdee/dicom-splitter-tutorial/"><img src="images/kaggle.PNG" width="80" align='left'/></a></p>
<p><a href="https://www.kaggle.com/avirdee/dicom-splitter-tutorial/"><img src="images/kaggle.PNG" alt="kaggle"></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Open dicom splitter tutorial in Kaggle</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dicomsplit" class="doc_header"><code>dicomsplit</code><a href="https://github.com/asvcode/fmi/tree/master/fmi/preprocessing.py#L70" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dicomsplit</code>(<strong><code>valid_pct</code></strong>=<em><code>0.2</code></em>, <strong><code>seed</code></strong>=<em><code>None</code></em>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Splits <code>items</code> between train/val with <code>valid_pct</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="check_duplicate" class="doc_header"><code>check_duplicate</code><a href="https://github.com/asvcode/fmi/tree/master/fmi/preprocessing.py#L114" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>check_duplicate</code>(<strong><code>items</code></strong>, <strong><code>seed</code></strong>=<em><code>5</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="dicom_splitter" class="doc_header"><code>dicom_splitter</code><a href="https://github.com/asvcode/fmi/tree/master/fmi/preprocessing.py#L119" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>dicom_splitter</code>(<strong><code>items</code></strong>, <strong><code>valid_pct</code></strong>=<em><code>0.2</code></em>, <strong><code>seed</code></strong>=<em><code>77</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Move-files">Move files<a class="anchor-link" href="#Move-files"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Open move files tutorial in Kaggle</p>
<p><a href="https://www.kaggle.com/avirdee/pre-processing-tutorial/"><img src="images/kaggle.PNG" width="80" align='left'/></a></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="move_files" class="doc_header"><code>move_files</code><a href="https://github.com/asvcode/fmi/tree/master/fmi/preprocessing.py#L129" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>move_files</code>(<strong><code>df</code></strong>, <strong><code>source</code></strong>, <strong><code>save_path</code></strong>)</p>
</blockquote>
<p>helper to move files</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

